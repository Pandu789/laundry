<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order & Hitung Harga - FreshClean</title>
    <style>
        /* --- Base Styles --- */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background-color: #f9fbff; color: #333; }

        :root {
            --primary: #00a8cc;
            --secondary: #142850;
            --accent: #ffae00;
            --white: #ffffff;
            --grey: #f4f4f4;
            --green: #25d366; /* Warna WA */
        }

        .container {
            max-width: 1000px;
            margin: 3rem auto;
            padding: 0 20px;
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
        }

        /* --- Kolom Kiri: Form Input --- */
        .form-section {
            flex: 2;
            min-width: 300px;
            background: var(--white);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.05);
        }

        h2 { color: var(--secondary); margin-bottom: 1.5rem; border-bottom: 2px solid var(--grey); padding-bottom: 10px; }

        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #555; }
        
        .form-control, select.form-control {
            width: 100%;
            padding: 12px;
            border: 2px solid #eee;
            border-radius: 8px;
            font-size: 1rem;
            transition: 0.3s;
        }
        .form-control:focus { border-color: var(--primary); outline: none; }

        /* Pilihan Kecepatan (Radio Button Style) */
        .speed-options { display: flex; gap: 10px; }
        .speed-radio { display: none; }
        .speed-label {
            flex: 1;
            padding: 10px;
            border: 2px solid #eee;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            font-weight: 500;
            transition: 0.2s;
        }
        .speed-radio:checked + .speed-label {
            border-color: var(--primary);
            background-color: #e0f7fa;
            color: var(--primary);
            font-weight: bold;
        }

        /* --- Kolom Kanan: Summary Card (Sticky) --- */
        .summary-section {
            flex: 1;
            min-width: 300px;
        }

        .summary-card {
            background: var(--secondary);
            color: var(--white);
            padding: 2rem;
            border-radius: 15px;
            position: sticky;
            top: 2rem; /* Agar tetap terlihat saat scroll */
            box-shadow: 0 10px 30px rgba(20, 40, 80, 0.3);
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.95rem;
            opacity: 0.9;
        }

        .total-row {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px dashed rgba(255,255,255,0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .total-label { font-size: 1.1rem; }
        .total-price { font-size: 1.8rem; font-weight: bold; color: var(--accent); }

        .btn-wa {
            display: block;
            width: 100%;
            background: var(--green);
            color: white;
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
            text-decoration: none;
            margin-top: 1.5rem;
            transition: 0.3s;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }
        .btn-wa:hover { background: #1ebc57; transform: translateY(-2px); }

        /* Responsive */
        @media (max-width: 768px) {
            .container { flex-direction: column; }
            .summary-card { position: static; }
        }
           

        /* --- NAVBAR STYLES --- */
        .navbar {
            background-color: var(--white);
            height: 80px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 5%;
            box-shadow: 0 2px 15px rgba(0,0,0,0.05);
            position: sticky; /* Agar menempel di atas */
            top: 0;
            z-index: 999;
            transition: 0.3s;
        }

        /* LOGO */
        .navbar-logo {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--primary);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .navbar-logo span { color: var(--secondary); }

        /* MENU UTAMA (DESKTOP) */
        .nav-menu {
            display: flex;
            align-items: center;
            gap: 30px;
            list-style: none;
        }

        .nav-link {
            text-decoration: none;
            color: var(--secondary);
            font-weight: 500;
            font-size: 1rem;
            transition: 0.3s;
            position: relative;
        }

        /* Efek Hover Garis Bawah */
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 0;
            background-color: var(--primary);
            transition: 0.3s;
        }
        .nav-link:hover::after { width: 100%; }
        .nav-link:hover { color: var(--primary); }

        /* TOMBOL CTA DI NAVBAR */
        .nav-btn {
            background-color: var(--primary);
            color: var(--white);
            padding: 10px 25px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            transition: 0.3s;
        }
        .nav-btn:hover { background-color: var(--secondary); box-shadow: 0 5px 15px rgba(0, 168, 204, 0.3); }

        /* HAMBURGER MENU (MOBILE TOGGLE) */
        .hamburger {
            display: none; /* Sembunyi di Desktop */
            cursor: pointer;
        }
        .bar {
            display: block;
            width: 25px;
            height: 3px;
            margin: 5px auto;
            background-color: var(--secondary);
            transition: all 0.3s ease-in-out;
            border-radius: 3px;
        }

        /* --- MOBILE RESPONSIVE (Max 768px) --- */
        @media (max-width: 768px) {
            .hamburger { display: block; } /* Munculkan Hamburger */

            .nav-menu {
                position: fixed;
                left: -100%; /* Sembunyikan ke kiri */
                top: 80px; /* Di bawah navbar */
                flex-direction: column;
                background-color: var(--white);
                width: 100%;
                text-align: center;
                transition: 0.3s;
                box-shadow: 0 10px 10px rgba(0,0,0,0.05);
                padding: 20px 0;
                gap: 0;
            }

            .nav-menu.active { left: 0; /* Geser masuk saat aktif */ }

            .nav-item { margin: 15px 0; width: 100%; }
            
            /* Tombol CTA di Mobile jadi full width tapi ada margin */
            .nav-btn {
                display: inline-block;
                margin-top: 10px;
                width: 80%; 
            }

            /* Animasi Hamburger jadi X */
            .hamburger.active .bar:nth-child(2) { opacity: 0; }
            .hamburger.active .bar:nth-child(1) { transform: translateY(8px) rotate(45deg); }
            .hamburger.active .bar:nth-child(3) { transform: translateY(-8px) rotate(-45deg); }
        }
    </style>
</head>
<body>

    
     
    <nav class="navbar">
        <a href="#" class="navbar-logo">
            Fresh<span>Clean</span> âœ¨
        </a>

        <ul class="nav-menu">
            <li class="nav-item">
                <a href="index.html" class="nav-link">Beranda</a>
            </li>
            <li class="nav-item">
                <a href="layanan.html" class="nav-link">Layanan</a>
            </li>

              <li class="nav-item">
                <a href="blog.html" class="nav-link">Blog</a>
            </li>
            <li class="nav-item">
                <a href="lokasi.html" class="nav-link">Lokasi</a>
            </li>
      
            <li class="nav-item">
                <a href="pesan.html" class="nav-btn">Pesan </a>
            </li>
        </ul>

        <div class="hamburger">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>
    </nav>
    <script>
        const hamburger = document.querySelector(".hamburger");
        const navMenu = document.querySelector(".nav-menu");
        const navLink = document.querySelectorAll(".nav-link");

        // Toggle Menu saat Hamburger diklik
        hamburger.addEventListener("click", () => {
            hamburger.classList.toggle("active");
            navMenu.classList.toggle("active");
        });

        // Tutup menu saat salah satu link diklik (UX yang baik)
        navLink.forEach(n => n.addEventListener("click", () => {
            hamburger.classList.remove("active");
            navMenu.classList.remove("active");
        }));
    </script>
    <div class="container">
        
        <div class="form-section">
            <h2>Data Pesanan</h2>
            <form id="orderForm">
                
                <div class="form-group">
                    <label>Nama Pelanggan</label>
                    <input type="text" id="nama" class="form-control" placeholder="Contoh: Dian" required>
                </div>
                <div class="form-group">
                    <label>Alamat Lengkap</label>
                    <textarea id="alamat" class="form-control" rows="2" placeholder="Alamat penjemputan..."></textarea>
                </div>

                <div class="form-group">
                    <label>Pilih Layanan</label>
                    <select id="layanan" class="form-control" onchange="updateCalculator()">
                        <option value="kiloan_cuci_setrika" data-price="6000" data-unit="Kg">Cuci Setrika Komplit (Rp 6.000/kg)</option>
                        <option value="kiloan_setrika" data-price="4000" data-unit="Kg">Setrika Saja (Rp 4.000/kg)</option>
                        <option value="satuan_bedcover" data-price="25000" data-unit="Pcs">Bedcover (Rp 25.000/pcs)</option>
                        <option value="satuan_sepatu" data-price="30000" data-unit="Psg">Cuci Sepatu (Rp 30.000/psg)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label id="qtyLabel">Berat (Kg)</label>
                    <input type="number" id="qty" class="form-control" value="1" min="1" oninput="updateCalculator()">
                    <small style="color: #888; font-style: italic;">*Minimal order 3 Kg untuk layanan kiloan (sistem otomatis membulatkan).</small>
                </div>

                <div class="form-group">
                    <label>Kecepatan Layanan</label>
                    <div class="speed-options">
                        <input type="radio" name="speed" id="reguler" class="speed-radio" value="1" checked onchange="updateCalculator()">
                        <label for="reguler" class="speed-label">Reguler (2-3 Hari)<br><small>Harga Normal</small></label>

                        <input type="radio" name="speed" id="express" class="speed-radio" value="1.5" onchange="updateCalculator()">
                        <label for="express" class="speed-label">Express (1 Hari)<br><small>+50% Biaya</small></label>
                    </div>
                </div>

                <div class="form-group">
                    <label>Opsi Pengiriman</label>
                    <select id="ongkir" class="form-control" onchange="updateCalculator()">
                        <option value="0">Antar Jemput (Gratis jarak dekat)</option>
                        <option value="10000">Jarak Jauh (+Rp 10.000)</option>
                    </select>
                </div>

            </form>
        </div>

        <div class="summary-section">
            <div class="summary-card">
                <h3 style="margin-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.2); padding-bottom: 10px;">Ringkasan Biaya</h3>
                
                <div class="summary-row">
                    <span>Harga Satuan</span>
                    <span id="displayHargaSatuan">Rp 6.000</span>
                </div>
                <div class="summary-row">
                    <span>Jumlah (<span id="displayUnit">Kg</span>)</span>
                    <span id="displayQty">1</span>
                </div>
                <div class="summary-row">
                    <span>Biaya Layanan</span>
                    <span id="displaySubtotal">Rp 6.000</span>
                </div>
                <div class="summary-row">
                    <span>Biaya Express</span>
                    <span id="displayExpress">Rp 0</span>
                </div>
                <div class="summary-row">
                    <span>Ongkos Kirim</span>
                    <span id="displayOngkir">Rp 0</span>
                </div>

                <div class="total-row">
                    <span class="total-label">Total Estimasi</span>
                    <span class="total-price" id="displayTotal">Rp 6.000</span>
                </div>

                <button onclick="kirimWhatsApp()" class="btn-wa">
                    Pesan via WhatsApp ðŸš€
                </button>
                <p style="font-size: 0.8rem; margin-top: 10px; text-align: center; opacity: 0.7;">Harga final akan dikonfirmasi ulang saat penimbangan di outlet.</p>
            </div>
        </div>

    </div>

    <script>
        function formatRupiah(angka) {
            return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(angka);
        }

        function updateCalculator() {
            // 1. Ambil Elemen
            const layananSelect = document.getElementById('layanan');
            const qtyInput = document.getElementById('qty');
            const speedRadios = document.getElementsByName('speed');
            const ongkirSelect = document.getElementById('ongkir');

            // 2. Ambil Data dari Pilihan
            const selectedOption = layananSelect.options[layananSelect.selectedIndex];
            let pricePerUnit = parseInt(selectedOption.getAttribute('data-price'));
            let unitType = selectedOption.getAttribute('data-unit');
            
            // 3. Logic Minimal Order (Khusus Kiloan)
            let qty = parseFloat(qtyInput.value) || 0;
            if (unitType === 'Kg' && qty < 3) {
                // Jangan ubah input value visual, tapi hitungan internal tetap minimal 3kg
                // Atau biarkan user input bebas, tapi kita hitung min 3kg di logic harga:
                // Note: Disini saya pakai logika 'If < 3kg, charge as 3kg' untuk harga
                var billableQty = (qty < 3) ? 3 : qty;
            } else {
                var billableQty = qty;
            }

            // 4. Cek Speed Multiplier
            let multiplier = 1;
            for (let radio of speedRadios) {
                if (radio.checked) multiplier = parseFloat(radio.value);
            }

            // 5. Hitung
            let baseTotal = pricePerUnit * billableQty;
            let expressFee = (baseTotal * multiplier) - baseTotal;
            let subtotal = baseTotal; 
            let ongkir = parseInt(ongkirSelect.value);
            let grandTotal = subtotal + expressFee + ongkir;

            // 6. Update Tampilan (DOM)
            document.getElementById('qtyLabel').innerText = `Berat / Jumlah (${unitType})`;
            document.getElementById('displayUnit').innerText = unitType;
            
            document.getElementById('displayHargaSatuan').innerText = formatRupiah(pricePerUnit);
            document.getElementById('displayQty').innerText = billableQty + " " + unitType;
            document.getElementById('displaySubtotal').innerText = formatRupiah(subtotal);
            
            document.getElementById('displayExpress').innerText = formatRupiah(expressFee);
            document.getElementById('displayOngkir').innerText = formatRupiah(ongkir);
            
            document.getElementById('displayTotal').innerText = formatRupiah(grandTotal);
        }

        function kirimWhatsApp() {
            const nama = document.getElementById('nama').value;
            const alamat = document.getElementById('alamat').value;
            const total = document.getElementById('displayTotal').innerText;
            const layanan = document.getElementById('layanan').options[document.getElementById('layanan').selectedIndex].text;
            
            if(nama === "") {
                alert("Mohon isi nama Anda terlebih dahulu.");
                return;
            }

            const pesan = `Halo FreshClean, saya mau order:%0A%0A` +
                          `ðŸ‘¤ Nama: ${nama}%0A` +
                          `ðŸ  Alamat: ${alamat}%0A` +
                          `ðŸ‘• Layanan: ${layanan}%0A` +
                          `ðŸ’° Estimasi Total: ${total}%0A%0A` +
                          `Mohon diproses ya.`;

            window.open(`https://wa.me/6281234567890?text=${pesan}`, '_blank');
        }

        // Jalankan sekali saat load
        updateCalculator();
    </script>

</body>
</html>